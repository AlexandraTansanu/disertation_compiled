"use strict";(self.webpackChunkenvironmentalWebApplication=self.webpackChunkenvironmentalWebApplication||[]).push([[795],{1795:(w,p,u)=>{u.r(p),u.d(p,{AuthenticationModule:()=>I});var g=u(9808),m=u(8330),n=u(3075),e=u(5e3),c=u(7556),l=u(7322),d=u(7531);function f(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function Z(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Password must have at least 5 characters "),e.qZA())}let h=(()=>{class t{constructor(o,r,i){this.auth=o,this.router=r,this.ngZone=i,this.errorMessage="",this.loginForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(5)])})}ngOnInit(){}onSubmit(){if(!this.loginForm.valid)return;const o=this.loginForm.value;this.auth.signIn(o.email,o.password).subscribe(r=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])})},r=>{(r.status=400)&&(this.errorMessage="Username and password doesn't match!")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.e),e.Y36(m.F0),e.Y36(e.R0b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sign-in"]],decls:24,vars:5,consts:[[1,"container"],[1,"d-flex","justify-content-end","align-items-center",2,"height","100vh"],[1,"card","p-5",2,"width","363px"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","email","required",""],[4,"ngIf"],["matInput","","formControlName","password","type","password"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],["routerLink","/authentication/register"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Enter your email"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,f,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"Enter your password"),e.qZA(),e._UZ(13,"input",7),e.YNc(14,Z,2,0,"mat-error",6),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"button",8),e._uU(17,"Login"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"p"),e._uU(20),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"a",9),e._uU(23,"Don't have an account? Register now!"),e.qZA()()()()()()),2&o){let i,s;e.xp6(4),e.Q6J("formGroup",r.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(i=r.loginForm.get("email"))?null:i.invalid)&&((null==(i=r.loginForm.get("email"))?null:i.dirty)||(null==(i=r.loginForm.get("email"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=r.loginForm.get("password"))?null:s.invalid)&&((null==(s=r.loginForm.get("password"))?null:s.dirty)||(null==(s=r.loginForm.get("password"))?null:s.touched))),e.xp6(2),e.Q6J("disabled",!r.loginForm.valid),e.xp6(4),e.Oqu(r.errorMessage)}},directives:[n._Y,n.JL,n.sg,l.KE,l.hX,d.Nt,n.Fj,n.JJ,n.u,n.Q7,g.O5,l.TO,m.yS],styles:["section[_ngcontent-%COMP%]{background:url(/assets/images/background.png);height:100%;background-repeat:no-repeat;background-size:cover}.card[_ngcontent-%COMP%]{background:#FAFAFA;border-radius:20px}a[_ngcontent-%COMP%]{font-size:15.5px}"]}),t})();function b(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address"),e.qZA())}function v(t,a){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Password must have at least 5 characters"),e.qZA())}const U=[{path:"login",component:h},{path:"register",component:(()=>{class t{constructor(o,r,i){this.auth=o,this.router=r,this.ngZone=i,this.errorMessage="",this.registerForm=new n.cw({email:new n.NI("",[n.kI.required,n.kI.email]),password:new n.NI("",[n.kI.required,n.kI.minLength(5)]),username:new n.NI("",[n.kI.required])})}ngOnInit(){}onSubmit(){if(!this.registerForm.valid)return;const o=this.registerForm.value;this.auth.signUp(o).subscribe(r=>{this.auth.signIn(o.email,o.password).subscribe(i=>{this.ngZone.run(()=>{this.router.navigate(["dashboard/tutorial"])})},i=>{(i.status=400)&&(this.errorMessage="Username and password doesn't match!")})},r=>{(r.status=400)&&(this.errorMessage="The email address is already in use by another account.")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(c.e),e.Y36(m.F0),e.Y36(e.R0b))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sign-up"]],decls:28,vars:5,consts:[[1,"container"],[1,"d-flex","justify-content-end","align-items-center",2,"height","100vh"],[1,"card","p-5",2,"width","363px"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","username","required",""],["matInput","","formControlName","email","required",""],[4,"ngIf"],["matInput","","formControlName","password","type","password"],["type","submit",1,"btn","btn-success","w-100",3,"disabled"],["routerLink","/authentication"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Username"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"mat-form-field",4)(10,"mat-label"),e._uU(11,"Enter your email"),e.qZA(),e._UZ(12,"input",6),e.YNc(13,b,2,0,"mat-error",7),e.qZA(),e.TgZ(14,"mat-form-field",4)(15,"mat-label"),e._uU(16,"Enter your password"),e.qZA(),e._UZ(17,"input",8),e.YNc(18,v,2,0,"mat-error",7),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"button",9),e._uU(21,"Register"),e.qZA(),e._UZ(22,"br"),e.TgZ(23,"p"),e._uU(24),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"a",10),e._uU(27,"Do you have an account? Log in now!"),e.qZA()()()()()()),2&o){let i,s;e.xp6(4),e.Q6J("formGroup",r.registerForm),e.xp6(9),e.Q6J("ngIf",(null==(i=r.registerForm.get("email"))?null:i.invalid)&&((null==(i=r.registerForm.get("email"))?null:i.dirty)||(null==(i=r.registerForm.get("email"))?null:i.touched))),e.xp6(5),e.Q6J("ngIf",(null==(s=r.registerForm.get("password"))?null:s.invalid)&&((null==(s=r.registerForm.get("password"))?null:s.dirty)||(null==(s=r.registerForm.get("password"))?null:s.touched))),e.xp6(2),e.Q6J("disabled",!r.registerForm.valid),e.xp6(4),e.Oqu(r.errorMessage)}},directives:[n._Y,n.JL,n.sg,l.KE,l.hX,d.Nt,n.Fj,n.JJ,n.u,n.Q7,g.O5,l.TO,m.yS],styles:["section[_ngcontent-%COMP%]{background:url(/assets/images/background.png);height:100%;background-repeat:no-repeat;background-size:cover}.card[_ngcontent-%COMP%]{background:#FAFAFA;border-radius:20px}a[_ngcontent-%COMP%]{font-size:15px;color:green}"]}),t})()},{path:"**",component:h}];let A=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(U)],m.Bz]}),t})();var F=u(5245);let I=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.lN,F.Ps,d.c,n.UX,g.ez,A]]}),t})()}}]);